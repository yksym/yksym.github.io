
## 具体的な議論

### 現在、個人(会社でも？)で取り組んでいるソフトウェアの品質向上への取り組み概要

* そのソフトウェアを手段としてどんな課題を解決すべきか、何故解決したいのかを知り、まずはMVPを目指す(捨てられるものは捨てて重要なものから手をつける)
* その際、スクラム的なアプローチを取り、早く作って早く評価する
* リスク分析した上で見積もる（それでも基本的に外れるけど)
* とはいえ失敗もあった。[ここ](SoftwareQuality.md)に色々書いた


### (ハードウェアスタートアップとしての)理想的な受託開発フロー

* 分からない。理想というか生産性という観点で理論的な上限がどこにあるのかすらよく分からない・・・

* 自分にとっての理想のハードウェアスタートアップであれば受託はほぼしない気がする・・・

* HW開発でスクラムやるんだったら社内に製造設備・実験場は必須だなとは思う

* (余談)ハードとソフトの違いをソフトウェア屋的なアナロジーで考えるとオモシロイ。
    * モノは移動、コピー、製造に時間と金と失敗リスクが発生する(失敗のコストが大きく、見積もりのブレも大きくなる)
        * プログラムのローカルコピーやネットワーク転送やビルドに20日かかるとかザラ。お金も沢山かかる。リソースお空き状況も変わる。
        * お金より時間を優先すると投機実行が行われることもある
        * ちなみにコピーだろうが移動だろうが製造だろうが出来上がったプログラムは実行してみないと振る舞いが分からない
    * モノは時間経過で劣化したり、変化したり、壊れたりする
        * プログラム実行する度に劣化してある日突然おかしくなる
        * 副作用のない動作なんてない。毎回結果が変わる
    * モノは物理法則や空間的な制約によってモジュール間に依存関係が発生する
        * フレームワークがいけてなくてモノシリックなプログラム実行する度に劣化してある日おかしくなる
    * モノがないと開発者は作業出来ない場合が多い（リモートワークし辛い)
        * 外部からアクセス出来ないマシンで作業しないといけない
    * その他
        * 開発環境の音がうるさい時もあるし、現場環境が過酷な時もある、油断するとモノが机の上にあふれる
        * メカ・電気・ソフトの全領域にまたがった問題解決能力
        * 特許や規格の問題
        * 理論計算と現実のギャップ

### CSP検査ツールを自作した話

* 今ではFDR買えば良かったと思ってる
* 背景としてはレコードとかグローバル変数とか欲しかったんだけど、糖衣構文用意して展開してツールに食わせるとかで良かったかも

### TLA+を組み込み開発で運用してみた話

* 話題になってたTLA+触ってみたかった
* 他のモデル検査とTLA+の(素人にも理解できる)比較は[ここ](../spec20180810/memo.md) に書いた

### UMLモデリングと形式的なモデリングの違い

* UML/SysMLの状態遷移図やユースケース図といったものを形式的なモデルを使って表現しようとしてきた
* UML/SysMLの図は誰でも読めてなんとなく書けるという点で扱いやすく、自然言語よりもイメージを伝えやすい一方、パラメトリックな表現が難しく、ページや画面の制約を受ける(表現力が乏しい)
* 形式的に記述すると誰でも読めないし、書いてある情報からイメージに変換するのにコストがかかるし、見落としもしやすい。しかし表現力は高く、検査も出来る。



### 定理証明と形式的なモデリングの違い

* モデル作って欲しい振る舞いかくところまでは同じ。証明するか検査するかの違いだけでは？

### そもそも形式的なモデル/テスト/定理証明などの異なる手法によって削減できる不具合は異なるのか

* 異なると思う。加えて不具合の種別ってフェーズで区切ることが多いが、こういった不具合をいつ検出出来るが重要。
* モデルを仕様に使えば、要求の問題をその段階で検出出来る期待してる。実装の問題はテストなり定理証明なりで実装中または後に検出することになると思う。
* あとテスト作る為にモデルは必要だと思う


### TLA+の検査時間をz3などの外部ソルバで短縮できる？

* ごめんなさい。正直分からないです。プロファイルとってみないと何故遅いか分からないし、z3がそれを解決するかもさっぱり分からない。
* ただの推測だけど、状態爆発して馬鹿でかいファイル吐きまくってる現状を鑑みると、そういった爆発を抑えこむ工夫がz3にあるならマシにはなるのでは？
* ちなみに今は小スコープ仮説を信じていて、そんなに時間かけずに検査してます。

### 某L社での形式手法との比較

* 当時のツールは検査が出来なかったのでレビューで正しさを担保していた。
    * コレがボクにはキツかった。並行合成人間には無理
    * 当時の尊敬するBOSSは頭の中にソルバ持ってて普通にチェックしてた
    * 最近はツールが進化して検査も出来るようになったらしい。スゴイ・・・
* QAチームや慣れない開発者のことを考慮してた
    * 記述は日本語併記(QAチームでもエンジニア指向の人達は普通に日本語読まなくなって式追ってたのにビックリしたが)
    * DRYよりDAMP優先だった(私はDRY派)

### 納品時にお客様が「成果物が想定と違う」と主張された時に我々は何ができるのか

過去に戻ることは出来ない。原因を振り返って、次のゴールを決めて合意するしかない。


### 段階的詳細化をして、実装に近いモデルを得ることは実際のビジネスでは機能するのか

* 近いの度合いによるけど、非同期系のバグ潰す為にモジュール設計の妥当性担保くらいは実例あるので機能すると思う
* ただ、ブラックボックスのライブラリやハードの振る舞いを直接モデル化するのは辛そう(メーカーやライブラリ製作者がモデル用意してくれたらいいのに)


### そもそも元のモデルの筋が悪ければ、段階的詳細化をしても筋の良い詳細なモデルは得られないのでは

そうだと思う

### 筋の良いモデルであれば、抽象度の高いモデルのまま加工すれば良いのでは

加工とは？

### 最適化されたアルゴリズムが元のアルゴリズムの仕様を違反していないか主張する良い方法

* 正直な所、分からない
    * これが欲しくて定理証明とか勉強しはじめた覚えがある
    * プログラム単位なんだったら最適化はコンパイラが勝手にやってくれというのが正直な気持ち
    * 等価性の研究とかチラ見したけど、ふ〜んで終わった覚えがある。bisimulationとか。
* 思いつく範囲で
    * よくやるのが網羅テストで結果の一致度合いをみる
    * Isabelleとかで振るまい一致をチェックする(手続き言語用のもあったハズ)
    * 元のアルゴリズムの入出力の関係が表現出来るなら依存型使った定理証明とか
    * 数式ならmathmaticaとかでいいのでは(まぁ実際の所、1bitもずらすなとか言われる場合があって辛かったりするけど)
    * アルゴリズムというのがアクセラレーターの振る舞いを含んだりすると途端に大変になりそうだけど・・・

### 定理証明の先に未来はあるのか

仕様書いたら実装見つける時代はいつか来ると思う。

### 形式的なモデルは何時までメンテナンスし続けるべきか

プロジェクトが終了するまで

### 読書時間の確保の方法とその集中のためにどんな手法が使えるのか

通勤時間

### 家事育児の中での研究開発時間の確保方法

研究開発は仕事でやるべき・・・

### おすすめ書籍紹介

誰向けかにもよるけれど、一番お世話になってる本は ソフトウェア要求。面白かった本はプログラミングの科学


